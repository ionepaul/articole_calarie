@model IEnumerable<ArticoleCalarie.Models.ProductListViewItemModel>
@using ArticoleCalarie.Web.Utils

@foreach (var product in Model)
{
    <div class="col-md-3">
        <div class="product-item layout1">
            <div class="product-inner">
                <div class="thumb">
                    @if (product.IsNew && product.IsOnSale)
                    {
                        <div class="group-flash">
                            <span class="flash new">nou</span>
                            <span class="flash sale">-@product.SalePercentage%</span>
                        </div>
                    }
                    else if (product.IsOnSale)
                    {
                        <div class="group-flash">
                            <span class="flash sale">-@product.SalePercentage%</span>
                        </div>
                    }
                    else if (product.IsNew)
                    {
                        <div class="group-flash">
                            <span class="flash new">nou</span>
                        </div>
                    }
                    <div class="group-button">
                        <a href="@Url.RouteUrl("product-details-url", new { categoryName = product.CategoryName.ToLower(), subcategoryId = product.SubcategoryId, subcategoryName = product.SubcategoryName.ToLower(), productCode = product.ProductCode.ToLower(), productName = product.ProductName.ToUrlProductName()})" class="quickview-button"><span class="icon"><i class="fa fa-eye" aria-hidden="true"></i></span> Vezi detalii</a>
                    </div>
                    <a href="@Url.RouteUrl("product-details-url", new { categoryName = product.CategoryName.ToLower(), subcategoryId = product.SubcategoryId, subcategoryName = product.SubcategoryName.ToLower(), productCode = product.ProductCode.ToLower(), productName = product.ProductName.ToUrlProductName()})"><img src="~/images/products/@product.ProductImageName" alt="@product.ProductName"></a>
                </div>
                <div class="info">
                    <a href="@Url.RouteUrl("product-details-url", new { categoryName = product.CategoryName.ToLower(), subcategoryId = product.SubcategoryId, subcategoryName = product.SubcategoryName.ToLower(), productCode = product.ProductCode.ToLower(), productName = product.ProductName.ToUrlProductName()})" class="product-name">@product.ProductName</a>
                    <div class="price">
                        @if (product.IsOnSale)
                        {
                            <span class="del">@product.Price </span>
                            <span class="ins">@product.PriceAfterSaleApplied RON</span>
                        }
                        else
                        {
                            <span class="ins">@product.Price RON</span>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
}