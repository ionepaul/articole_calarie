@model PagedList.IPagedList<ArticoleCalarie.Models.OrderViewModel>
@using PagedList.Mvc;

<div id="user-orders">
    @foreach (var item in Model)
    {
        <div id="user-order-details">
            <h4>Comanda #@item.OrderNumber</h4>
            <br />

            <p>Plasata pe @item.OrderRegistrationDate | Total: @item.TotalAmount RON<p />

            <ul class="progress">
                <li class="progress__circle progress--done progress--active"></li>
                <li class="progress__bar progress--done"></li>
                <li class="progress__circle progress--active progress--done"></li>
                <li class="progress__bar progress--done"></li>
                <li class="progress__circle progress--active"></li>
                <li class="progress__bar"></li>
                <li class="progress__circle"></li>
                <li class="progress__bar"></li>
                <li class="progress__circle"></li>
            </ul>

            <h4>@item.OrderStatus</h4>

            <hr />

            <p class="expand-order-details">Vezi detalii <i class="fa fa-chevron-down"></i></p>

            <div class="cart-content user-order-details">
                <table class="shopping-cart-content">
                    <tr class="title">
                        <td class="product-thumb">Produs</td>
                        <td class="product-name"></td>
                        <td class="price">Preț</td>
                        <td class="total">Total</td>
                    </tr>
                    @foreach (var product in item.ShoppingItems)
                    {
                        <tr class="each-item">
                            <td class="product-thumb"><img src="~/images/products/@product.ImageName"></td>
                            <td class="product-name">
                                <a href="@Url.Action("Details", "Product", new { productCode = product.ProductCode })" class="product-name">
                                    <strong>@product.Quantity x @product.ProductName</strong>
                                </a>
                                <p class="color">Culoare: @product.Color</p>
                                <p>Marime: @product.Size</p>
                            </td>
                            <td class="price">@product.Quantity x @product.Price RON</td>
                            @{
                                var totalPrice = product.Quantity * product.Price;
                            }
                            <td class="total">@totalPrice RON</td>
                        </tr>
                     }
                </table>
                <hr />
                <p>Total: @item.TotalAmount RON</p>
            </div>
        </div>
     }

    <div id="content-pager">
        Pagina @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) din @Model.PageCount

        @Html.PagedListPager(Model, page => Url.Action("UserOrderListPartial", new { pageNumber = page }))
    </div>
</div>
